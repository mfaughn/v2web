<?xml version="1.0" encoding="utf-8"?>
<DataTypeDefinition>
  <url value="http://hl7.org/v2plus/DataTypeDefinition/date-time"/>
  <name value="date/time"/>
  <withdrawn value="false"/>
  <abbreviation value="DTM"/>
  <description>
    <status value="additional"/>
    <div>
      <p>Definition: Specifies a point in time using a 24-hour clock notation.</p>
      <p><strong>Minimum Length:</strong> 4</p>
      <p><strong>Maximum Length:</strong> 24</p>
      <p>The number of characters populated (excluding the time zone specification) specifies the precision.</p>
      <p>Format: YYYY[MM[DD[HH[MM[SS[.S[S[S[S]]]]]]]]][+/-ZZZZ].</p>
      <p>Thus:</p>
      <ol type="a">
        <li>
          <p>only the first four are used to specify a precision of "year"</p>
        </li>
      </ol>
      <ol start="4" type="a">
        <li>
          <p>the first six are used to specify a precision of "month"</p>
        </li>
        <li>
          <p>the first eight are used to specify a precision of "day"</p>
        </li>
        <li>
          <p>the first ten are used to specify a precision of "hour”</p>
        </li>
        <li>
          <p>the first twelve are used to specify a precision of "minute”</p>
        </li>
        <li>
          <p>the first fourteen are used to specify a precision of "second”</p>
        </li>
        <li>
          <p>the first sixteen are used to specify a precision of "one tenth of a second”</p>
        </li>
        <li>
          <p>the first nineteen are used to specify a precision of " one ten thousandths of a second”</p>
        </li>
      </ol>
      <p>Example: |199904| specifies April 1999.</p>
      <p>The time zone (+/-ZZZZ) is represented as +/-HHMM offset from Coordinated Universal Time (UTC)</p>
      <ul>
        <li>
          <p>For implementations prior to V2.9 +0000 or -0000 both represent UTC (without offset).</p>
        </li>
        <li>
          <p>For implementations starting with V2.9</p>
          <ul>
            <li>
              <p>use of the plus sign (+0000) represents the civil time zone offset is known to be zero,</p>
            </li>
            <li>
              <p>use of the minus sign (-0000) represents UTC (without offset)</p>
            </li>
          </ul>
        </li>
        <li>
          <p>This supports medical devices that are capable of sourcing UTC but do not have reference to local time offset. Use case is London in the winter.</p>
        </li>
      </ul>
      <p>
        <strong>This provides a solution for the use case where the device can source UTC. It is up to the implementation to determine the storage form. </strong>
      </p>
      <p>The specific data representations used in the HL7 encoding rules are compatible with ISO 8824-1987(E).</p>
      <p>Examples:</p>
      <table>
        <tbody>
          <tr class="odd">
            <td>Example</td>
            <td>Description</td>
          </tr>
          <tr class="even">
            <td>|19760704010159-0500|</td>
            <td>1:01:59 on July 4, 1976 in the Eastern Standard Time zone (USA)</td>
          </tr>
          <tr class="odd">
            <td>|19760704010159-0400|</td>
            <td>1:01:59 on July 4, 1976 in the Eastern Daylight Saving Time zone (USA).</td>
          </tr>
          <tr class="even">
            <td>|198807050000|</td>
            <td>Midnight of the night extending from July 4 to July 5, 1988 in the local time zone of the sender.</td>
          </tr>
          <tr class="odd">
            <td>|19880705|</td>
            <td>Same as prior example, but precision extends only to the day. Could be used for a birth date, if the time of birth is unknown.</td>
          </tr>
          <tr class="even">
            <td>|19981004010159+0100|</td>
            <td>1:01:59 on October 4, 1998 in Amsterdam, NL. (Time zone=+0100).</td>
          </tr>
        </tbody>
      </table>
      <p>The HL7 Standard strongly recommends that all systems routinely send the time zone offset but does not require it. All HL7 systems are required to accept the time zone offset, but its implementation is application specific. For many applications the time of interest is the local time of the sender. For example, an application in the Eastern Standard Time zone receiving notification of an admission that takes place at 11:00 PM in San Francisco on December 11 would prefer to treat the admission as having occurred on December 11 rather than advancing the date to December 12.</p>
      <p><strong>Note:</strong> The time zone [+/-ZZZZ], when used, is restricted to legally-defined time zones and is represented in HHMM format.</p>
      <p>One exception to this rule would be a clinical system that processed patient data collected in a clinic and a nearby hospital that happens to be in a different time zone. Such applications may choose to convert the data to a common representation. Similar concerns apply to the transitions to and from daylight saving time. HL7 supports such requirements by requiring that the time zone information be present when the information is sent. It does not, however, specify which of the treatments discussed here will be applied by the receiving system.</p>
      <p>The DTM data type does not follow the normal truncation pattern, and the truncation character is never valid in the DTM data type. Instead, the truncation behavior is based on the semantics of dates and times.</p>
      <p>Unless otherwise specified in the context where the DTM type is used, the DTM type may be truncated to a day. When a DTM is truncated, the truncated form SHALL still be a valid DTM type. Systems should always be able to persist full date / time information including the timezone. Refer to Chapter 2, section 2.5.5.2 "Truncation Pattern" for further information.</p>
    </div>
  </description>
  <component>
    <name value="Date/Time"/>
    <sequenceNumber value=""/>
    <minLength value="4"/>
    <maxLength value="4"/>
    <confLength value="8"/>
    <mayTruncate value="true"/>
    <dataType value="https://www.hl7.org/v2plus/DataTypeDefinition/FIXME!"/>
  </component>
</DataTypeDefinition>
