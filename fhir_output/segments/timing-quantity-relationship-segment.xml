<?xml version="1.0" encoding="utf-8"?>
<SegmentDefinition>
  <url value="http://hl7.org/v2plus/SegmentDefinition/timing-quantity-relationship-segment"/>
  <name value="Timing/Quantity Relationship Segment"/>
  <withdrawn value="false"/>
  <abbreviation value="TQ2"/>
  <description>
    <status value="additional"/>
    <div>
      <description>
        <status value="additional"/>
        <div>
          <p>The TQ2 segment is used to form a relationship between the service request the TQ1/TQ2 segments are associated with, and other service requests. The TQ2 segment will link the current service request with one or more other service requests.</p>
          <p>There are many situations, such as the creation of a service request for a group of intravenous (IV) solutions, where the sequence of the individual intravenous solutions (each a service in itself) needs to be specified, e.g., hyperalimentation with multi-vitamins in every third bottle.</p>
          <p>There are other situations where part of the service request's instructions contains a results condition of some type, such as "PRN pain." There is currently a free text "condition" field of TQ1-10 - Condition text which allows any condition to be specified. However, to support a fully encoded version of service request sequencing, or results condition, the TQ2, Timing/Quantity Relationship segment has been defined.</p>
          <p>HL7 Attribute Table – TQ2 – Timing/Quantity Relationship</p>
          <p>TQ2 Usage notes:</p>
          <ol type="a">
            <li>
              <p>Cyclic placer service request groups</p>
            </li>
          </ol>
          <blockquote>
            <p>To implement a cyclic group of four IV service requests using the parent/child paradigm, the parent specifies a custom group of IVs, and the following occurs:</p>
          </blockquote>
          <ol type="i">
            <li>
              <p>TQ2 of the second child service request specifies that it follow the first child service request.</p>
            </li>
            <li>
              <p>TQ2 of the third child service request specifies that it follow the second child service request.</p>
            </li>
            <li>
              <p>TQ2 of the fourth child service request specifies that it follow the third service request.</p>
            </li>
          </ol>
          <blockquote>
            <p>To repeat the group of four child service requests in a cyclic manner, the following occurs:</p>
          </blockquote>
          <ol start="4" type="i">
            <li>
              <p><em>TQ2</em> of the first child service request specifies that it is to be executed once without any dependence on the completion of other service requests. Its second execution follows the completion of the fourth service request. See example in Section 4A.5.2 <em>RXO segment field examples</em>.</p>
            </li>
          </ol>
          <blockquote>
            <p>This scheme allows the following to be tracked:</p>
          </blockquote>
          <ul>
            <li>
              <blockquote>
                <p>The status of the whole group of service requests to be reported back at the level of the parent service request.</p>
              </blockquote>
            </li>
            <li>
              <blockquote>
                <p>The status for each individual IV service request by following the status of the corresponding child service request.</p>
              </blockquote>
            </li>
          </ul>
          <blockquote>
            <p>Separate Service requests example:</p>
          </blockquote>
          <ul>
            <li>
              <blockquote>
                <p>The same group of service requests can be sent as a group of four service requests (without a common parent), linked only by the data in their quantity/timing fields. In this case, there is no convenient HL7 method of transmitting the service request status of the group as a whole without transmitting the status of each of the four separate service requests.</p>
              </blockquote>
            </li>
          </ul>
          <ol start="2" type="a">
            <li>
              <p>Inheritance of service request status</p>
            </li>
          </ol>
          <blockquote>
            <p>Cancellation/discontinuation/hold service request control events:</p>
          </blockquote>
          <ol type="i">
            <li>
              <p>This logic implies the normal execution of the referenced predecessor service request. Thus a cancel (or discontinuation or hold) of a predecessor service request implies the cancellation (or discontinuation or hold) of all subsequent service requests in the chain.</p>
            </li>
            <li>
              <p>If the referenced service request has been canceled (or discontinued or held), the current service request inherits that same status.</p>
            </li>
            <li>
              <p>In the case of hold, the removal of the hold of the predecessor implies a removal of the hold for the given service request (which can then be executed according to the specification in the TQ2 segment).</p>
            </li>
          </ol>
        </div>
      </description>
    </div>
  </description>
  <field>
    <sequenceNumber value="1"/>
    <mustSupport value="false"/>
    <minCardinality value="0">
      <maxCardinality value="1">
        <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01648"/>
      </maxCardinality>
    </minCardinality>
  </field>
  <field>
    <sequenceNumber value="2"/>
    <mustSupport value="false"/>
    <minCardinality value="0">
      <maxCardinality value="1">
        <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01649"/>
      </maxCardinality>
    </minCardinality>
  </field>
  <field>
    <sequenceNumber value="3"/>
    <mustSupport value=""/>
    <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01650"/>
  </field>
  <field>
    <sequenceNumber value="4"/>
    <mustSupport value=""/>
    <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01651"/>
  </field>
  <field>
    <sequenceNumber value="5"/>
    <mustSupport value=""/>
    <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01652"/>
  </field>
  <field>
    <sequenceNumber value="6"/>
    <mustSupport value=""/>
    <maxCardinality value="1">
      <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01653"/>
    </maxCardinality>
  </field>
  <field>
    <sequenceNumber value="7"/>
    <mustSupport value=""/>
    <maxCardinality value="1">
      <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01654"/>
    </maxCardinality>
  </field>
  <field>
    <sequenceNumber value="8"/>
    <mustSupport value="false"/>
    <minCardinality value="0">
      <maxCardinality value="1">
        <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01655"/>
      </maxCardinality>
    </minCardinality>
  </field>
  <field>
    <sequenceNumber value="9"/>
    <mustSupport value="false"/>
    <minCardinality value="0">
      <maxCardinality value="1">
        <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01656"/>
      </maxCardinality>
    </minCardinality>
  </field>
  <field>
    <sequenceNumber value="10"/>
    <mustSupport value=""/>
    <maxCardinality value="1">
      <dataElement value="https://www.hl7.org/v2plus/DataElementDefinition/01657"/>
    </maxCardinality>
  </field>
</SegmentDefinition>
